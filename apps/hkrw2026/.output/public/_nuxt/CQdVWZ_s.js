import{d as b,t as D,y as e,z as s,A as o,a9 as K,R as t,l as Q,a3 as M,o as L,C as R,B as c,O as $,W as r,P as T,a5 as E,a1 as C,i as m,a2 as S,af as G,ag as O}from"./C3W5oS2G.js";import{_ as H}from"./DlAUqK2U.js";import{M as P}from"./C_2-gt9O.js";import{u as V}from"./Ptaunubi.js";import{a as j}from"./CVtoa8yg.js";const z={class:"innerGrid noPadding"},F={class:"featureContainer bgGradient"},J={class:"featureImage innerGrid"},U=["src"],W=b({__name:"featureImage",props:{img:{},blurImage:{}},setup(l){const{public:{strapi:{url:_}}}=D(),n=Q(()=>_.includes("localhost")?_:"");return(u,g)=>(e(),s("div",z,[o("div",F,[o("div",{class:"blurImage",style:K(`background-image:url(${l.blurImage})`)},null,4),o("div",J,[o("img",{src:t(n)+l.img,alt:""},null,8,U)])])]))}}),X=H(W,[["__scopeId","data-v-00c22c2d"]]),Y={class:"detailContent innerGrid"},Z={class:"content"},tt={class:"imageContainer"},et={class:"title gradientText"},st={key:1,class:"eventContent"},nt={class:"label"},at=["innerHTML"],ot={key:2,class:"eventContent"},it={class:"label"},rt=["innerHTML"],ct={key:3,class:"eventContent"},lt={class:"label"},_t=["innerHTML"],ut={key:4,class:"slides"},dt={class:"slide"},vt={key:0,class:"slideImgContainer"},ht=["src"],mt=["poster"],gt=["src"],yt={class:"small"},pt={key:5,class:"eventContent"},ft=["innerHTML"],kt={class:"tableContainer"},Nt={key:0},bt={key:1},Ht={key:2,class:"small"},Tt={key:3},Et={key:4},Ct={key:5},Dt={key:0},Kt={key:1},Mt={key:2},Lt={key:3},$t={key:4},It={key:5},wt=b({__name:"detail",props:{event:{}},setup(l){const _=l,{t:n,tObj:u}=M({..._.event,tableHost_EN:"Host",tableTarget_EN:"Target",tableQuota_EN:"Quota",tableHost_HK:"講者/主持",tableTarget_HK:"對象",tableQuota_HK:"名額",date_HK:"日期",date_EN:"Date",location_HK:"地點",location_EN:"Location",register_HK:"報名方法",register_EN:"Registration Method",contact_HK:"查詢/報名電話",contact_EN:"Contact",preiod_HK:"報名期間",preiod_EN:"Register Period",quota_HK:"名額",quota_EN:"Quota",na_HK:"不適用",na_EN:"N/A"}),g=m(!0),v=m(!0),k=m(!0),y=m(!0),p=m(!0),N=m(!0),h=m(6),f=m([]);function I(w){_.event.programs||(f.value=[]);const d=JSON.parse(JSON.stringify(_.event.programs));g.value=d.some(a=>a.startDate||a.endDate),g.value||(h.value-=1),v.value=d.some(a=>a.location_HK),v.value||(h.value-=1),k.value=d.some(a=>a.quota_HK),k.value||(h.value-=1),y.value=d.some(a=>a.register_HK),y.value||(h.value-=1),p.value=d.some(a=>a.contact_HK),p.value||(h.value-=1),N.value=d.some(a=>a.period_HK),N.value||(h.value-=1),f.value=d.filter(a=>a.startDate||a.endDate||a.startTime||a.endTime).sort((a,i)=>{const x=a.startTime||"23:59:00",q=i.startTime||"23:59:00",A=C(a.startDate+"T"+x),B=C(i.startDate+"T"+q);return A.isBefore(B)?-1:1})}return L(()=>{I(_.event)}),(w,d)=>{const a=X;return e(),s("div",Y,[o("div",Z,[o("div",tt,[R(a,{img:l.event.photos[0].url,"blur-image":l.event.photos[0].url},null,8,["img","blur-image"])]),o("div",et,c(t(n)("title_")),1),l.event.content_EN?(e(),$(t(P),{key:0,class:"eventContent",source:t(n)("content_"),html:""},null,8,["source"])):r("",!0),l.event.host_EN?(e(),s("div",st,[o("div",nt,c(t(n)("tableHost_")),1),o("div",{class:"content",innerHTML:t(n)("host_")},null,8,at)])):r("",!0),l.event.target_EN?(e(),s("div",ot,[o("div",it,c(t(n)("tableTarget_")),1),o("div",{class:"content",innerHTML:t(n)("target_")},null,8,rt)])):r("",!0),l.event.quota_EN?(e(),s("div",ct,[o("div",lt,c(t(n)("tableQuota_")),1),o("div",{class:"content",innerHTML:t(n)("quota_")},null,8,_t)])):r("",!0),l.event.slides?(e(),s("div",ut,[(e(!0),s(T,null,E(l.event.slides,i=>(e(),s("div",dt,[i.feature.data.mime.includes("video")?(e(),s("video",{key:1,class:"slideVideo",preload:"metadata",poster:i.thumbnail.data.url,controls:""},[o("source",{src:"https://"+i.feature.data.url,type:"video/mp4"},null,8,gt)],8,mt)):(e(),s("div",vt,[o("img",{src:i.feature.data.url},null,8,ht)])),o("div",yt,c(t(u)("title",i)),1)]))),256))])):r("",!0),l.event.remark_EN?(e(),s("div",pt,[d[0]||(d[0]=o("div",{class:"label"},null,-1)),o("div",{class:"content",innerHTML:t(n)("remark_")},null,8,ft)])):r("",!0)]),o("div",kt,[t(f).length>0?(e(),s("table",{key:0,class:"evantTable",style:K(`--column-count:${t(h)}`)},[o("thead",null,[o("tr",null,[t(g)?(e(),s("th",Nt,c(t(n)("date_")),1)):r("",!0),t(v)?(e(),s("th",bt,c(t(n)("location_")),1)):r("",!0),t(k)?(e(),s("th",Ht,c(t(n)("quota_")),1)):r("",!0),t(y)?(e(),s("th",Tt,c(t(n)("register_")),1)):r("",!0),t(N)?(e(),s("th",Et,c(t(n)("preiod_")),1)):r("",!0),t(p)?(e(),s("th",Ct,c(t(n)("contact_")),1)):r("",!0)])]),o("tbody",null,[(e(!0),s(T,null,E(t(f),i=>(e(),s("tr",{key:i.id},[t(g)?(e(),s("td",Dt,c(t(u)("displayTime_",i)),1)):r("",!0),t(v)?(e(),s("td",Kt,c(t(u)("location_",i)),1)):r("",!0),t(k)?(e(),s("td",Mt,c(i.quota_EN==="N/A"?t(n)("na_"):t(u)("quota_",i)),1)):r("",!0),t(y)?(e(),s("td",Lt,c(i.register_EN==="N/A"?t(n)("na_"):t(u)("register_",i)),1)):r("",!0),t(N)?(e(),s("td",$t,c(i.period_EN==="N/A"?t(n)("na_"):t(u)("period_",i)),1)):r("",!0),t(p)?(e(),s("td",It,c(i.contact_EN==="N/A"?t(n)("na_"):t(u)("contact_",i)),1)):r("",!0)]))),128))])],4)):r("",!0)])])}}}),xt=H(wt,[["__scopeId","data-v-3c7929d6"]]),qt={class:"pageContainer innerGrid"},At={key:0,class:"noData"},Bt=b({__name:"[id]",async setup(l){let _,n;const{findOne:u}=S(),g=G();M();const{data:v,refresh:k,error:y}=([_,n]=O(()=>V("programData",()=>u("events",g.params.id,{populate:{photos:{populate:"*"},programs:{populate:"*"},slides:{populate:"*"}}}))),_=await _,n(),_),p=D();return j({title:p.public.siteName+" | "+v.value?.title_EN}),L(()=>{}),(N,h)=>{const f=xt;return e(),s("div",qt,[t(y)||!t(v)?(e(),s("div",At,"no Data")):(e(),$(f,{key:1,event:t(v).data},null,8,["event"]))])}}}),Pt=H(Bt,[["__scopeId","data-v-f5026bf2"]]);export{Pt as default};
